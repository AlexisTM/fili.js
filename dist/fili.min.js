/*! fili 0.0.6 08-12-2014 */
/*! Author: Florian Markert */
/*! License: MIT */
!function(a){"use strict";var b=new IirCoeffs,c={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749]],f:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877]]},butterworth:{q:[[.7071067811865475],[.54,1.31],[.52,.7071067811865475,1.93]],f:[[1],[1,1],[1,1,1]]}},d=function(a,d){var e=[],f=0;for(a.order>3&&(a.order=3),f=0;f<a.order;f++)e.push(b[d]({Fs:a.Fs,Fc:a.Fc*c[a.characteristic].f[a.order-1][f],Q:c[a.characteristic].q[a.order-1][f],preGain:a.preGain||!1}));return e},e=function(){var a={lowpass:function(a){return d(a,"lowpass")},highpass:function(a){return d(a,"highpass")},notch:function(a){return d(a,"notch")}};return a};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=e:(a.CalcCascades=e,"function"==typeof define&&define.amd&&define(e))}(window),function(a){"use strict";var b=function(){var a={div:function(a,b){var c=a.re,d=a.im,e=b.re,f=b.im,g=e*e+f*f,h={re:(c*e+d*f)/g,im:(d*e-c*f)/g};return h},mul:function(a,b){var c=a.re,d=a.im,e=b.re,f=b.im,g={re:c*e-d*f,im:(c+d)*(e+f)-c*e-d*f};return g},add:function(a,b){var c={re:a.re+b.re,im:a.im+b.im};return c},sub:function(a,b){var c={re:a.re-b.re,im:a.im-b.im};return c},phase:function(a){return Math.atan2(a.im,a.re)},magnitude:function(a){return Math.sqrt(a.re*a.re+a.im*a.im)}};return a};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=b:(a.Complex=b,"function"==typeof define&&define.amd&&define(b))}(window),function(a){"use strict";var b=function(){var a=function(a){var b=a.Fs,c=a.Fc,d=a.order,e=2*Math.PI*c/b,f=0,g=0,h=[];for(f=0;d>=f;f++)f-d/2===0?h[f]=e:(h[f]=Math.sin(e*(f-d/2))/(f-d/2),h[f]*=.54-.46*Math.cos(2*Math.PI*f/d)),g+=h[f];for(f=0;d>=f;f++)h[f]/=g;return h},b=function(a){var b;for(b=0;b<a.length;b++)a[b]=-a[b];return a[(a.length-1)/2]++,a},c=function(c){for(var d=a({order:c.order,Fs:c.Fs,Fc:c.F2}),e=b(a({order:c.order,Fs:c.Fs,Fc:c.F1})),f=[],g=0;g<d.length;g++)f.push(d[g]+e[g]);return f},d={lowpass:function(b){return a(b)},highpass:function(c){return b(a(c))},bandstop:function(a){return c(a)},bandpass:function(a){return b(c(a))}};return d};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=b:(a.FirCoeffs=b,"function"==typeof define&&define.amd&&define(b))}(window),function(a){"use strict";var b=function(a){var b=a,c=[],d=0;for(d=0;d<b.length;d++)c[d]={re:b[d],im:0};var e=function(a){var b,c=[];for(b=0;a>b;b++)c.push(0);return{buf:c,pointer:0}},f=e(b.length-1),g=function(a,c){c.buf[c.pointer]=a;var e=0;for(d=0;d<c.buf.length;d++)e+=b[d]*c.buf[(c.pointer+d)%c.buf.length];return c.pointer=(c.pointer+1)%c.buf.length,e},h=function(a,b){var c,d=[];for(c=0;c<a.length;c++)d.push(g(a[c],b));return d},i=function(a){var c=e(b.length-1);return h(a,c)},j=new Complex,k=function(a){for(var d=a.Fs,e=a.Fr,f=-Math.PI*(e/d)*2,g={re:0,im:0},h=0;h<b.length-1;h++)g=j.add(g,j.mul(c[h],{re:Math.cos(f*h),im:Math.sin(f*h)}));var i=j.magnitude(g),k={magnitude:i,phase:j.phase(g),dBmagnitude:20*Math.log(i)*Math.LOG10E};return k},l={responsePoint:function(a){return k(a)},response:function(a){var a=a||100,b=[],c=0,d=2*a;for(c=0;a>c;c++)b[c]=k({Fs:d,Fr:c});return evaluatePhase(b),b},simulate:function(a){return i(a)},singleStep:function(a){return g(a,f)},multiStep:function(a){return h(a,f)},reinit:function(){f=e(b.length-1)}};return l};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=b:(a.FirFilter=b,"function"==typeof define&&define.amd&&define(b))}(window),function(a){"use strict";var b=function(){var a=function(a,b){var c=a.Q,d=a.Fc,e=a.Fs,f={},g=2*Math.PI*d/e;return f.alpha=Math.sin(g)/(2*c),f.cw=Math.cos(g),f.a0=1+f.alpha,b.a0=f.a0,b.a.push(-2*f.cw/f.a0),b.a.push((1-f.alpha)/f.a0),f},b=function(){var a={};return a.z=[0,0],a.a=[],a.b=[],a},c={lowpass:function(c){var d=b(),e=a(c,d);return c.preGain?(d.k=.5*(1-e.cw),d.b.push(1/e.a0)):(d.k=1,d.b.push((1-e.cw)/(2*e.a0))),d.b.push(2*d.b[0]),d.b.push(d.b[0]),d},highpass:function(c){var d=b(),e=a(c,d);return c.preGain?(d.k=.5*(1+e.cw),d.b.push(1/e.a0)):(d.k=1,d.b.push((1+e.cw)/(2*e.a0))),d.b.push(-2*d.b[0]),d.b.push(d.b[0]),d},notch:function(c){var d=b();return a(c,d),d.k=1,d.b.push(1),d.b.push(-2*d.b[0]),d.b.push(d.b[0]),d},bandpass:function(c){var d=b(),e=a(c,d);return d.k=1,d.b.push(e.alpha*c.Q),d.b.push(0),d.b.push(d.b[0]),d},bandstop:function(c){var d=b(),e=a(c,d);return d.k=1,d.b.push(1),d.b.push(-2*e.cw),d.b.push(d.b[0]),d}};return c};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=b:(a.IirCoeffs=b,"function"==typeof define&&define.amd&&define(b))}(window),function(a){"use strict";var b=function(a){for(var b=a,c={re:1,im:0},d=[],e=0;e<b.length;e++){d[e]={};var f=b[e];d[e].b0={re:f.b[0],im:0},d[e].b1={re:f.b[1],im:0},d[e].b2={re:f.b[2],im:0},d[e].a1={re:f.a[0],im:0},d[e].a2={re:f.a[1],im:0},d[e].k={re:f.k,im:0}}var g=new Complex,h=function(a,b){var c=b*a.k-a.a[0]*a.z[0]-a.a[1]*a.z[1],d=a.b[0]*c+a.b[1]*a.z[0]+a.b[2]*a.z[1];return a.z[1]=a.z[0],a.z[0]=c,d},i=function(a,b){var c=a,d=0;for(d=0;d<b.length;d++)c=h(b[d],c);return c},j=function(a,b){var c=0,d=[];for(c=0;c<a.length;c++)d.push(i(a[c],b));return d},k=function(a,b){var d=a.Fs,e=a.Fr,f=-Math.PI*(e/d)*2,h={re:Math.cos(f),im:Math.sin(f)},i=g.mul(b.k,g.add(b.b0,g.mul(h,g.add(b.b1,g.mul(b.b2,h))))),j=g.add(c,g.mul(h,g.add(b.a1,g.mul(b.a2,h)))),k=g.div(i,j),l={magnitude:g.magnitude(k),phase:g.phase(k)};return l},l=function(a){var b=0,c={magnitude:1,phase:0};for(b=0;b<d.length;b++){var e=k(a,d[b]);c.magnitude*=e.magnitude,c.phase+=e.phase}return c.dBmagnitude=20*Math.log(c.magnitude)*Math.LOG10E,c},m=function(){for(var a=[],c=0;c<b.length;c++)a[c]={a:[b[c].a[0],b[c].a[1]],b:[b[c].b[0],b[c].b[1],b[c].b[2]],k:b[c].k,z:[0,0]};return a},n=function(a){var b=m();return j(a,b)},o=function(a,b){var c={},d=[],e=0;for(e=0;b>e;e++)d.push(a(e));c.out=n(d);var f=!1,g=!1;for(e=0;b-1>e;e++)if(c.out[e]>c.out[e+1]&&!f&&(f=!0,c.max={sample:e,value:c.out[e]}),f&&!g&&c.out[e]<c.out[e+1]){g=!0,c.min={sample:e,value:c.out[e]};break}return c},p={singleStep:function(a){return i(a,b)},multiStep:function(a){return j(a,b)},simulate:function(a){return n(a)},stepResponse:function(a){return o(function(){return 1},a)},impulseResponse:function(a){return o(function(a){return 0===a?1:0},a)},responsePoint:function(a){return l(a)},response:function(a){var a=a||100,b=[],c=0,d=2*a;for(c=0;a>c;c++)b[c]=l({Fs:d,Fr:c});return evaluatePhase(b),b},reinit:function(){for(e=0;e<b.length;e++)b[e].z=[0,0]}};return p};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=b:(a.IirFilter=b,"function"==typeof define&&define.amd&&define(b))}(window),function(a){"use strict";var b=function(a){var b,c=a,d=[],e=function(a){for(b=0;b<a.steps;b++)d.push(c.singleStep((Math.random()-.5)*a.pp+a.offset))},f=function(a){var e=a.offset+a.pp,f=a.offset-a.pp;for(b=0;b<a.steps;b++)d.push(100>b%200?c.singleStep(e):c.singleStep(f))},g=function(a){var e=a.offset+a.pp,f=a.offset-a.pp;for(b=0;b<a.steps;b++)d.push(b%100===0?c.singleStep(e):c.singleStep(f))},h=function(a){var e=a.offset+a.pp,f=a.offset-a.pp,g=f,h=(e-f)/100;for(b=0;b<a.steps;b++)100>b%200?g+=h:g-=h,d.push(c.singleStep(g))},i={randomStability:function(a){for(c.reinit(),d.length=0,e(a),b=a.setup;b<d.length;b++)if(d[b]>a.maxStable||d[b]<a.minStable)return d[b];return!0},directedRandomStability:function(a){c.reinit(),d.length=0;var i;for(i=0;i<a.tests;i++){var j=Math.random();.25>j?e(a):.5>j?f(a):.75>j?g(a):h(a)}for(e(a),b=a.setup;b<d.length;b++)if(d[b]>a.maxStable||d[b]<a.minStable)return d[b];return!0},evaluateBehavior:function(){}};return i};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=b:(a.TestFilter=b,"function"==typeof define&&define.amd&&define(b))}(window);var evaluatePhase=function(a){var b=0,c=0,d=Math.PI,e=2*d,f=[];for(c=0;c<a.length;c++)f.push(a[c].phase);for(a[0].unwrappedPhase=a[0].phase,a[0].groupDelay=0,c=1;c<f.length;c++){var g=f[c]-f[c-1];if(g>d)for(b=c;b<f.length;b++)f[b]-=e;else if(-d>g)for(b=c;b<f.length;b++)f[b]+=e;a[c].unwrappedPhase=f[c]<0?-f[c]:f[c],a[c].phaseDelay=a[c].unwrappedPhase/(c/a.length),a[c].groupDelay=(a[c].unwrappedPhase-a[c-1].unwrappedPhase)/(d/a.length)}a[0].phaseDelay=a[1].phaseDelay,a[0].groupDelay=a[1].groupDelay};