/**
 * @name    fili
 * @version 0.0.12 | June 16th 2015
 * @author  Florian Markert
 * @license MIT
 */
!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Fili=r()}}(function(){return function r(e,n,a){function t(i,o){if(!n[i]){if(!e[i]){var s="function"==typeof require&&require;if(!o&&s)return s(i,!0);if(u)return u(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[i]={exports:{}};e[i][0].call(f.exports,function(r){var n=e[i][1][r];return t(n?n:r)},f,f.exports,r,e,n,a)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<a.length;i++)t(a[i]);return t}({1:[function(r,e,n){"use strict";e.exports={CalcCascades:r("./src/calcCascades"),Fft:r("./src/fft"),FirCoeffs:r("./src/firCoeffs"),FirFilter:r("./src/firFilter"),IirCoeffs:r("./src/iirCoeffs"),IirFilter:r("./src/iirFilter")}},{"./src/calcCascades":2,"./src/fft":3,"./src/firCoeffs":4,"./src/firFilter":5,"./src/iirCoeffs":6,"./src/iirFilter":7}],2:[function(r,e,n){"use strict";var a=r("./iirCoeffs"),t=new a,u={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},i=function(r,e){var n=[],a=0;if("fromPZ"!==e)for(r.order>12&&(r.order=12),a=0;a<r.order;a++){var i,o,s;"butterworth"===r.characteristic?(i=.5/Math.sin(Math.PI/(2*r.order)*(a+.5)),o=1):(i=u[r.characteristic].q[r.order-1][a],o=r.oneDb?u[r.characteristic].f1dB[r.order-1][a]:u[r.characteristic].f3dB[r.order-1][a]),s="highpass"===e?r.Fc/o:r.Fc*o,n.push(t[e]({Fs:r.Fs,Fc:s,Q:i,BW:r.BW||0,gain:r.gain||0,preGain:r.preGain||!1}))}else for(a=0;a<r.length;a++)n.push(t[e](r[a]));return n},o=function(r){return function(e){return i(e,r)}},s={},c=function(){for(var r in t)s[r]=o(r);return s};e.exports=c},{"./iirCoeffs":6}],3:[function(r,e,n){"use strict";var a=function(r){var e=function(r){return r&r-1?!1:!0};if(!e(r))return!1;var n={};n.length=r,n.buffer=new Float64Array(r),n.re=new Float64Array(r),n.im=new Float64Array(r),n.reI=new Float64Array(r),n.imI=new Float64Array(r),n.twiddle=new Int32Array(r),n.sinTable=new Float64Array(r-1),n.cosTable=new Float64Array(r-1);var a=2*Math.PI,t=Math.floor(Math.log(r)/Math.LN2);for(i=n.sinTable.length;i--;)n.sinTable[i]=Math.sin(a*(i/r)),n.cosTable[i]=Math.cos(a*(i/r));for(var u=r>>1,i=0,o=0;n.twiddle[i]=o,!(++i>=r);){for(t=u;o>=t;)o-=t,t>>=1;o+=t}var s=function(r){var e=Math.PI,n=2*Math.PI,a=Math.abs,t=Math.pow,u=Math.cos,i=Math.sin,o=function(r){return i(e*r)/(e*r)},s=Math.E,c={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(r,e){return.5*(1-u(n*r/(e-1)))},values:[],correction:2},hamming:{calc:function(r,e){return.54-.46*u(n*r/(e-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(r,n,a){return a*(n-1)/2>r?.5*(1+u(e*(2*r/(a*(n-1))-1))):r>(n-1)*(1-a/2)?.5*(1+u(e*(2*r/(a*(n-1))-2/a+1))):1},values:[],correction:4/3},cosine:{calc:function(r,n){return i(e*r/(n-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(r,e){return o(2*r/(e-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(r,e){return 2/(e+1)*((e+1)/2-a(r-(e-1)/2))},values:[],correction:2},bartlett:{calc:function(r,e){return 2/(e-1)*((e-1)/2-a(r-(e-1)/2))},values:[],correction:2},gaussian:{calc:function(r,e,n){return t(s,-.5*t((r-(e-1)/2)/(n*(e-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(r,e){return.62-.48*a(r/(e-1)-.5)-.38*u(n*r/(e-1))},values:[],correction:2},blackman:{calc:function(r,a,t){var i=(1-t)/2,o=.5,s=t/2;return i-o*u(n*r/(a-1))+s*u(4*e*r/(a-1))},values:[],correction:4/3}};return c[r.name].values.length!==r.N?(0===r.n&&(c[r.name].values.length=0),c[r.name].values[r.n]=c[r.name].correction*c[r.name].calc(r.n,r.N,r.a),c[r.name].values[r.n]):c[r.name].values},c={forward:function(r,e){var a,t,u,i,o,c,f,h,l,p,b,v;u=n.buffer.length;var m={name:e,N:u,a:.5,n:0},d=s(m);if("number"==typeof d)for(a=0;u>a;++a)m.n=a,n.buffer[a]=r[a]*s(m);else for(a=0;u>a;++a)n.buffer[a]=r[a]*d[a];for(a=u;a--;)n.re[a]=n.buffer[n.twiddle[a]],n.im[a]=0;for(i=1;u>i;i=o)for(c=0,o=i+i,f=u/o,t=0;i>t;t++){for(h=n.cosTable[c],l=n.sinTable[c],a=t;u>a;a+=o)p=a+i,b=l*n.im[p]+h*n.re[p],v=h*n.im[p]-l*n.re[p],n.re[p]=n.re[a]-b,n.re[a]+=b,n.im[p]=n.im[a]-v,n.im[a]+=v;c+=f}return{re:n.re,im:n.im}},inverse:function(r,e){var a,t,u,i,o,s,c,f,h,l,p,b;for(a=u;a--;)t=n.twiddle[a],n.reI[a]=r[t],n.imI[a]=-e[t];for(i=1;u>i;i=o)for(s=0,o=i+i,c=u/o,t=0;i>t;t++){for(f=n.cosTable[s],h=n.sinTable[s],a=t;u>a;a+=o)l=a+i,p=h*n.imI[l]+f*n.reI[l],b=f*n.imI[l]-h*n.reI[l],n.reI[l]=n.reI[a]-p,n.reI[a]+=p,n.imI[l]=n.imI[a]-b,n.imI[a]+=b;s+=c}for(a=u;a--;)n.buffer[a]=n.reI[a]/u;return n.buffer},magnitude:function(r){for(var e=[],n=0;n<r.re.length;n++)e.push(Math.sqrt(r.re[n]*r.re[n]+r.im[n]*r.im[n]));return e},magToDb:function(r){for(var e=[],n=0;n<r.length;n++)e.push(20*Math.log(r[n])*Math.LOG10E);return e},phase:function(r){for(var e=[],n=0;n<r.re.length;n++)e.push(Math.atan2(r.im[n],r.re[n]));return e}};return c};e.exports=a},{}],4:[function(r,e,n){"use strict";var a=function(){var r=function(r){var e=r.Fs,n=r.Fa,a=r.Fb,t=r.order||51,u=r.Att||100,i=function(r){for(var e=0,n=1,a=1;n>1e-6*a;)e+=2,n*=r*r/(e*e),a+=n;return a};t/2-Math.floor(t/2)===0&&t++;var o,s=(t-1)/2,c=[],f=0,h=0,l=[];for(c[0]=2*(a-n)/e,h=1;s>=h;h++)c[h]=(Math.sin(2*h*Math.PI*a/e)-Math.sin(2*h*Math.PI*n/e))/(h*Math.PI);for(f=21>u?0:u>50?.1102*(u-8.7):.5842*Math.pow(u-21,.4)+.07886*(u-21),o=i(f),h=0;s>=h;h++)l[s+h]=c[h]*i(f*Math.sqrt(1-h*h/(s*s)))/o;for(h=0;s>h;h++)l[h]=l[t-1-h];return l},e=function(r){var e=r.Fs,n=r.Fc,a=r.order,t=2*Math.PI*n/e,u=0,i=0,o=[];for(u=0;a>=u;u++)u-a/2===0?o[u]=t:(o[u]=Math.sin(t*(u-a/2))/(u-a/2),o[u]*=.54-.46*Math.cos(2*Math.PI*u/a)),i+=o[u];for(u=0;a>=u;u++)o[u]/=i;return o},n=function(r){var e;for(e=0;e<r.length;e++)r[e]=-r[e];return r[(r.length-1)/2]++,r},a=function(r){for(var a=e({order:r.order,Fs:r.Fs,Fc:r.F2}),t=n(e({order:r.order,Fs:r.Fs,Fc:r.F1})),u=[],i=0;i<a.length;i++)u.push(a[i]+t[i]);return u},t={lowpass:function(r){return e(r)},highpass:function(r){return n(e(r))},bandstop:function(r){return a(r)},bandpass:function(r){return n(a(r))},kbFilter:function(e){return r(e)}};return t};e.exports=a},{}],5:[function(r,e,n){"use strict";var a=r("./utils"),t=a.runMultiFilter,u=a.complex,i=a.evaluatePhase,o=function(r){var e=r,n=[],a=0;for(a=0;a<e.length;a++)n[a]={re:e[a],im:0};var o=function(r){var e,n=[];for(e=0;r>e;e++)n.push(0);return{buf:n,pointer:0}},s=o(e.length-1),c=function(r,n){n.buf[n.pointer]=r;var t=0;for(a=0;a<n.buf.length;a++)t+=e[a]*n.buf[(n.pointer+a)%n.buf.length];return n.pointer=(n.pointer+1)%n.buf.length,t},f=function(r){var n=o(e.length-1);return t(r,n,c)},h=function(r){for(var a=r.Fs,t=r.Fr,i=-Math.PI*(t/a)*2,o={re:0,im:0},s=0;s<e.length-1;s++)o=u.add(o,u.mul(n[s],{re:Math.cos(i*s),im:Math.sin(i*s)}));var c=u.magnitude(o),f={magnitude:c,phase:u.phase(o),dBmagnitude:20*Math.log(c)*Math.LOG10E};return f},l={responsePoint:function(r){return h(r)},response:function(r){r=r||100;var e=[],n=0,a=2*r;for(n=0;r>n;n++)e[n]=h({Fs:a,Fr:n});return i(e),e},simulate:function(r){return f(r)},singleStep:function(r){return c(r,s)},multiStep:function(r,e){return t(r,s,c,e)},reinit:function(){s=o(e.length-1)}};return l};e.exports=o},{"./utils":8}],6:[function(r,e,n){"use strict";var a=function(){var r=function(r,e){var n=r.Q,a=r.Fc,t=r.Fs,u={},i=2*Math.PI*a/t;return r.BW?u.alpha=Math.sin(i)*Math.sinh(Math.log(2)/2*r.BW*i/Math.sin(i)):u.alpha=Math.sin(i)/(2*n),u.cw=Math.cos(i),u.a0=1+u.alpha,e.a0=u.a0,e.a.push(-2*u.cw/u.a0),e.a.push((1-u.alpha)/u.a0),u},e=function(r){var e=r.Q,n=r.Fc,a=r.Fs,t={},u=2*Math.PI*n/a;return t.alpha=Math.sin(u)/(2*e),t.cw=Math.cos(u),t.A=Math.pow(10,r.gain/40),t},n=function(){var r={};return r.z=[0,0],r.a=[],r.b=[],r},a={fromPZ:function(r){var e=n();return e.a0=1,e.b.push(1),e.b.push(-r.z0.re-r.z1.re),e.b.push(r.z0.re*r.z1.re-r.z0.im*r.z1.im),e.a.push(-r.p0.re-r.p1.re),e.a.push(r.p0.re*r.p1.re-r.p0.im*r.p1.im),"lowpass"===r.type?e.k=(1+e.a[0]+e.a[1])/(1+e.b[1]+e.b[2]):e.k=(1-e.a[0]+e.a[1])/(1-e.b[1]+e.b[2]),e},lowpassBT:function(r){var e=n();return r.Q=1,e.wp=Math.tan(2*Math.PI*r.Fc/(2*r.Fs)),e.wp2=e.wp*e.wp,r.BW&&delete r.BW,e.k=1,e.a0=3*e.wp+3*e.wp2+1,e.b.push(3*e.wp2*r.Q/e.a0),e.b.push(2*e.b[0]),e.b.push(e.b[0]),e.a.push((6*e.wp2-2)/e.a0),e.a.push((3*e.wp2-3*e.wp+1)/e.a0),e},highpassBT:function(r){var e=n();return r.Q=1,e.wp=Math.tan(2*Math.PI*r.Fc/(2*r.Fs)),e.wp2=e.wp*e.wp,r.BW&&delete r.BW,e.k=1,e.a0=e.wp+e.wp2+3,e.b.push(3*r.Q/e.a0),e.b.push(2*e.b[0]),e.b.push(e.b[0]),e.a.push((2*e.wp2-6)/e.a0),e.a.push((e.wp2-e.wp+3)/e.a0),e},lowpass:function(e){var a=n();e.BW&&delete e.BW;var t=r(e,a);return e.preGain?(a.k=.5*(1-t.cw),a.b.push(1/t.a0)):(a.k=1,a.b.push((1-t.cw)/(2*t.a0))),a.b.push(2*a.b[0]),a.b.push(a.b[0]),a},highpass:function(e){var a=n();e.BW&&delete e.BW;var t=r(e,a);return e.preGain?(a.k=.5*(1+t.cw),a.b.push(1/t.a0)):(a.k=1,a.b.push((1+t.cw)/(2*t.a0))),a.b.push(-2*a.b[0]),a.b.push(a.b[0]),a},allpass:function(e){var a=n();e.BW&&delete e.BW;var t=r(e,a);return a.k=1,a.b.push((1-t.alpha)/t.a0),a.b.push(-2*t.cw/t.a0),a.b.push((1+t.alpha)/t.a0),a},bandpassQ:function(e){var a=n(),t=r(e,a);return a.k=1,a.b.push(t.alpha*e.Q/t.a0),a.b.push(0),a.b.push(-a.b[0]),a},bandpass:function(e){var a=n(),t=r(e,a);return a.k=1,a.b.push(t.alpha/t.a0),a.b.push(0),a.b.push(-a.b[0]),a},bandstop:function(e){var a=n(),t=r(e,a);return a.k=1,a.b.push(1/t.a0),a.b.push(-2*t.cw/t.a0),a.b.push(a.b[0]),a},peak:function(r){var a=n(),t=e(r);return a.k=1,a.a0=1+t.alpha/t.A,a.a.push(-2*t.cw/a.a0),a.a.push((1-t.alpha/t.A)/a.a0),a.b.push((1+t.alpha*t.A)/a.a0),a.b.push(-2*t.cw/a.a0),a.b.push((1-t.alpha*t.A)/a.a0),a},lowshelf:function(r){var a=n();r.BW&&delete r.BW;var t=e(r);a.k=1;var u=2*Math.sqrt(t.A)*t.alpha;return a.a0=t.A+1+(t.A-1)*t.cw+u,a.a.push(-2*(t.A-1+(t.A+1)*t.cw)/a.a0),a.a.push((t.A+1+(t.A-1)*t.cw-u)/a.a0),a.b.push(t.A*(t.A+1-(t.A-1)*t.cw+u)/a.a0),a.b.push(2*t.A*(t.A-1-(t.A+1)*t.cw)/a.a0),a.b.push(t.A*(t.A+1-(t.A-1)*t.cw-u)/a.a0),a},highshelf:function(r){var a=n();r.BW&&delete r.BW;var t=e(r);a.k=1;var u=2*Math.sqrt(t.A)*t.alpha;return a.a0=t.A+1-(t.A-1)*t.cw+u,a.a.push(2*(t.A-1-(t.A+1)*t.cw)/a.a0),a.a.push((t.A+1-(t.A-1)*t.cw-u)/a.a0),a.b.push(t.A*(t.A+1+(t.A-1)*t.cw+u)/a.a0),a.b.push(-2*t.A*(t.A-1+(t.A+1)*t.cw)/a.a0),a.b.push(t.A*(t.A+1+(t.A-1)*t.cw-u)/a.a0),a}};return a};e.exports=a},{}],7:[function(r,e,n){"use strict";var a=r("./utils"),t=a.complex,u=a.runMultiFilter,i=a.evaluatePhase,o=function(r){for(var e=r,n={re:1,im:0},a=[],o=[],s=0;s<e.length;s++){a[s]={};var c=e[s];a[s].b0={re:c.b[0],im:0},a[s].b1={re:c.b[1],im:0},a[s].b2={re:c.b[2],im:0},a[s].a1={re:c.a[0],im:0},a[s].a2={re:c.a[1],im:0},a[s].k={re:c.k,im:0},o[s]={},o[s].b1=c.b[1]/c.b[0],o[s].b2=c.b[2]/c.b[0],o[s].a1=c.a[0],o[s].a2=c.a[1]}var f=function(r,e){var n=e*r.k-r.a[0]*r.z[0]-r.a[1]*r.z[1],a=r.b[0]*n+r.b[1]*r.z[0]+r.b[2]*r.z[1];return r.z[1]=r.z[0],r.z[0]=n,a},h=function(r,e){var n=r,a=0;for(a=0;a<e.length;a++)n=f(e[a],n);return n},l=function(r,e){var a=r.Fs,u=r.Fr,i=-Math.PI*(u/a)*2,o={re:Math.cos(i),im:Math.sin(i)},s=t.mul(e.k,t.add(e.b0,t.mul(o,t.add(e.b1,t.mul(e.b2,o))))),c=t.add(n,t.mul(o,t.add(e.a1,t.mul(e.a2,o)))),f=t.div(s,c),h={magnitude:t.magnitude(f),phase:t.phase(f)};return h},p=function(r){var e=0,n={magnitude:1,phase:0};for(e=0;e<a.length;e++){var t=l(r,a[e]);n.magnitude*=t.magnitude,n.phase+=t.phase}return n.dBmagnitude=20*Math.log(n.magnitude)*Math.LOG10E,n},b=function(){for(var r=[],n=0;n<e.length;n++)r[n]={a:[e[n].a[0],e[n].a[1]],b:[e[n].b[0],e[n].b[1],e[n].b[2]],k:e[n].k,z:[0,0]};return r},v=function(r){var e=b();return u(r,e,h)},m=function(r,e){var n={},a=[],t=0;for(t=0;e>t;t++)a.push(r(t));n.out=v(a);var u=!1,i=!1;for(t=0;e-1>t;t++)if(n.out[t]>n.out[t+1]&&!u&&(u=!0,n.max={sample:t,value:n.out[t]}),u&&!i&&n.out[t]<n.out[t+1]){i=!0,n.min={sample:t,value:n.out[t]};break}return n},d=function(r,e){var n=Math.pow(r/2,2)-e;return 0>n?[{re:-r/2,im:Math.sqrt(Math.abs(n))},{re:-r/2,im:-Math.sqrt(Math.abs(n))}]:[{re:-r/2+Math.sqrt(n),im:0},{re:-r/2-Math.sqrt(n),im:0}]},g=function(){for(var r=[],e=0;e<o.length;e++)r[e]={},r[e].z=d(o[e].b1,o[e].b2),r[e].p=d(o[e].a1,o[e].a2);return r},w={singleStep:function(r){return h(r,e)},multiStep:function(r,n){return u(r,e,h,n)},simulate:function(r){return v(r)},stepResponse:function(r){return m(function(){return 1},r)},impulseResponse:function(r){return m(function(r){return 0===r?1:0},r)},responsePoint:function(r){return p(r)},response:function(r){r=r||100;var e=[],n=0,a=2*r;for(n=0;r>n;n++)e[n]=p({Fs:a,Fr:n});return i(e),e},polesZeros:function(){return g()},reinit:function(){for(s=0;s<e.length;s++)e[s].z=[0,0]}};return w};e.exports=o},{"./utils":8}],8:[function(r,e,n){"use strict";n.evaluatePhase=function(r){var e=0,n=0,a=Math.PI,t=2*a,u=[];for(n=0;n<r.length;n++)u.push(r[n].phase);for(r[0].unwrappedPhase=r[0].phase,r[0].groupDelay=0,n=1;n<u.length;n++){var i=u[n]-u[n-1];if(i>a)for(e=n;e<u.length;e++)u[e]-=t;else if(-a>i)for(e=n;e<u.length;e++)u[e]+=t;u[n]<0?r[n].unwrappedPhase=-u[n]:r[n].unwrappedPhase=u[n],r[n].phaseDelay=r[n].unwrappedPhase/(n/r.length),r[n].groupDelay=(r[n].unwrappedPhase-r[n-1].unwrappedPhase)/(a/r.length),r[n].groupDelay<0&&(r[n].groupDelay=-r[n].groupDelay)}0!==r[0].magnitude?(r[0].phaseDelay=r[1].phaseDelay,r[0].groupDelay=r[1].groupDelay):(r[0].phaseDelay=r[2].phaseDelay,r[0].groupDelay=r[2].groupDelay,r[1].phaseDelay=r[2].phaseDelay,r[1].groupDelay=r[2].groupDelay)},n.runMultiFilter=function(r,e,n,a){var t=[];a&&(t=r);var u;for(u=0;u<r.length;u++)t[u]=n(r[u],e);return t};var a=function(r,e){for(var n=!0;n;){var a=r,t=e;if(n=!1,t||(t=1),a!==Math.floor(a)||t!==Math.floor(t))return 1;if(0===a||1===a)return t;r=a-1,e=t*a,n=!0}};n.besselFactors=function(r){for(var e=[],n=0;r+1>n;n++){var t=a(2*r-n),u=Math.pow(2,r-n)*a(n)*a(r-n);e.unshift(Math.floor(t/u))}return e},n.complex={div:function(r,e){var n=r.re,a=r.im,t=e.re,u=e.im,i=t*t+u*u,o={re:(n*t+a*u)/i,im:(a*t-n*u)/i};return o},mul:function(r,e){var n=r.re,a=r.im,t=e.re,u=e.im,i={re:n*t-a*u,im:(n+a)*(t+u)-n*t-a*u};return i},add:function(r,e){var n={re:r.re+e.re,im:r.im+e.im};return n},sub:function(r,e){var n={re:r.re-e.re,im:r.im-e.im};return n},phase:function(r){return Math.atan2(r.im,r.re)},magnitude:function(r){return Math.sqrt(r.re*r.re+r.im*r.im)}}},{}]},{},[1])(1)});