/**
 * @name    fili
 * @version 1.1.0 | June 23rd 2015
 * @author  Florian Markert
 * @license MIT
 */
!function(r){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=r();else if("function"==typeof define&&define.amd)define([],r);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Fili=r()}}(function(){return function r(e,t,a){function n(s,i){if(!t[s]){if(!e[s]){var o="function"==typeof require&&require;if(!i&&o)return o(s,!0);if(u)return u(s,!0);var f=new Error("Cannot find module '"+s+"'");throw f.code="MODULE_NOT_FOUND",f}var c=t[s]={exports:{}};e[s][0].call(c.exports,function(r){var t=e[s][1][r];return n(t?t:r)},c,c.exports,r,e,t,a)}return t[s].exports}for(var u="function"==typeof require&&require,s=0;s<a.length;s++)n(a[s]);return n}({1:[function(r,e,t){"use strict";e.exports={CalcCascades:r("./src/calcCascades"),Fft:r("./src/fft"),FirCoeffs:r("./src/firCoeffs"),FirFilter:r("./src/firFilter"),IirCoeffs:r("./src/iirCoeffs"),IirFilter:r("./src/iirFilter"),TestFilter:r("./src/testFilter")}},{"./src/calcCascades":2,"./src/fft":3,"./src/firCoeffs":4,"./src/firFilter":5,"./src/iirCoeffs":6,"./src/iirFilter":7,"./src/testFilter":8}],2:[function(r,e,t){"use strict";var a=r("./iirCoeffs"),n=new a,u={bessel:{q:[[.57735026919],[.805538281842,.521934581669],[1.02331395383,.611194546878,.510317824749],[1.22566942541,.710852074442,.559609164796,.505991069397],[1.41530886916,.809790964842,.620470155556,.537552151325,.503912727276],[1.59465693507,.905947107025,.684008068137,.579367238641,.525936202016,.502755558204],[1.76552743493,.998998442993,.747625068271,.624777082395,.556680772868,.519027293158,.502045428643],[1.9292718407,1.08906376917,.810410302962,.671382379377,.591144659703,.542678365981,.514570953471,.501578400482],[2.08691792612,1.17637337045,.872034231424,.718163551101,.627261751983,.569890924765,.533371782078,.511523796759,.50125489338],[2.23926560629,1.26117120993,.932397288146,.764647810579,.664052481472,.598921924986,.555480327396,.526848630061,.509345928377,.501021580965],[2.38695091667,1.34368488961,.991497755204,.81060830488,.701011199665,.628878390935,.57943181849,.545207253735,.52208637596,.507736060535,.500847111042],[2.53048919562,1.42411783481,1.04937620183,.85593899901,.737862159044,.659265671705,.604435823473,.565352679646,.537608804383,.51849505465,.506508536474,.500715908905]],f3dB:[[1.27201964951],[1.60335751622,1.43017155999],[1.9047076123,1.68916826762,1.60391912877],[2.18872623053,1.95319575902,1.8320926012,1.77846591177],[2.45062684305,2.20375262593,2.06220731793,1.98055310881,1.94270419166],[2.69298925084,2.43912611431,2.28431825401,2.18496722634,2.12472538477,2.09613322542],[2.91905714471,2.66069088948,2.49663434571,2.38497976939,2.30961462222,2.26265746534,2.24005716132],[3.13149167404,2.87016099416,2.69935018044,2.57862945683,2.49225505119,2.43227707449,2.39427710712,2.37582307687],[3.33237300564,3.06908580184,2.89318259511,2.76551588399,2.67073340527,2.60094950474,2.55161764546,2.52001358804,2.50457164552],[3.52333123464,3.25877569704,3.07894353744,2.94580435024,2.84438325189,2.76691082498,2.70881411245,2.66724655259,2.64040228249,2.62723439989],[3.70566068548,3.44032173223,3.2574059854,3.11986367838,3.01307175388,2.92939234605,2.86428726094,2.81483068055,2.77915465405,2.75596888377,2.74456638588],[3.88040469682,3.61463243697,3.4292654707,3.28812274966,3.17689762788,3.08812364257,3.01720732972,2.96140104561,2.91862858495,2.88729479473,2.8674198668,2.8570800015]],f1dB:[[2.16477559371],[2.70320928596,2.41122332505],[3.25676581436,2.88822569572,2.74246238837],[3.76153580353,3.35675411406,3.14862673032,3.05646412475],[4.22174260104,3.79644757806,3.55260471864,3.41193742197,3.34673435508],[4.64584812552,4.20789257981,3.94082363122,3.76942681446,3.66549975744,3.61617359345],[5.04060395196,4.5944592201,4.3111677248,4.11836351827,3.98822359814,3.90713836715,3.86811234525],[5.41107948467,4.95951159709,4.66435804468,4.45575796102,4.30650679478,4.20286750045,4.13720522991,4.10531748119],[5.76110791853,5.30592898465,5.00182215701,4.7811081045,4.61724509926,4.49660100894,4.41131378918,4.35667671372,4.32997951075],[6.09364309488,5.63609116014,5.32506930789,5.09480346139,4.91939504255,4.78540258409,4.68493280536,4.61302286993,4.56661931366,4.54382759952],[6.41100731543,5.95195558182,5.63550073656,5.39754464742,5.21278891332,5.06801430334,4.95539684456,4.8697869429,4.80814951843,4.76793469612,4.74828032403],[6.71506056052,6.25514029778,5.9343616072,5.69011422355,5.49763642361,5.34401973764,5.22125973611,5.12485045619,5.05037962112,4.99699982231,4.96155789635,4.94441828777]]}},s={bessel:{as:[[1.3617],[1.3397,.7743],[1.2217,.9686,.5131],[1.1112,.9754,.7202,.3728],[1.0215,.9393,.7815,.5604,.2883]],bs:[[.618],[.4889,.389],[.3887,.3505,.2756],[.3162,.2979,.2621,.2087],[.265,.2549,.2351,.2059,.1665]]},butterworth:{as:[[1.4142],[1.8478,.7654],[1.9319,1.4142,.5176],[1.9616,1.6629,1.1111,.3902],[1.9754,1.782,1.4142,.908,.3129]],bs:[[1],[1,1],[1,1,1],[1,1,1,1],[1,1,1,1,1]]},tschebyscheff05:{as:[[1.3614],[2.6282,.3648],[3.8645,.7528,.1589],[5.1117,1.0639,.3439,.0885],[6.3648,1.3582,.4822,.1994,.0563]],bs:[[1.3827],[3.4341,1.1509],[6.9797,1.8573,1.0711],[11.9607,2.9365,1.4206,1.0407],[18.3695,4.3453,1.944,1.252,1.0263]]},tschebyscheff1:{as:[[1.3022],[2.5904,.3039],[3.8437,.6292,.1296],[5.1019,.8916,.2806,.0717],[6.3634,1.1399,.3939,.1616,.0455]],bs:[[1.5515],[4.1301,1.1697],[8.5529,1.9124,1.0766],[14.7608,3.0426,1.4334,1.0432],[22.7468,4.5167,1.9665,1.2569,1.0277]]},tschebyscheff2:{as:[[1.1813],[2.4025,.2374],[3.588,.4925,.0995],[4.7743,.6991,.2153,.0547],[5.9618,.8947,.3023,.1233,.0347]],bs:[[1.7775],[4.9862,1.1896],[10.4648,1.9622,1.0826],[18.151,3.1353,1.4449,1.0461],[28.0376,4.6644,1.9858,1.2614,1.0294]]},tschebyscheff3:{as:[[1.065],[2.1853,.1964],[3.2721,.4077,.0815],[4.3583,.5791,.1765,.0448],[5.4449,.7414,.2479,.1008,.0283]],bs:[[1.9305],[5.5339,1.2009],[11.6773,1.9873,1.0861],[20.2948,3.1808,1.4507,1.0478],[31.3788,4.7363,1.9952,1.2638,1.0304]]},allpass:{as:[[1.6278],[2.337,1.3506],[2.6117,2.0706,1.0967],[2.7541,2.4174,1.785,.9239],[2.8406,2.612,2.1733,1.5583,.8018]],bs:[[.8832],[1.4878,1.1837],[1.7763,1.6015,1.2596],[1.942,1.83,1.6101,1.2822],[2.049,1.9714,1.8184,1.5923,1.2877]]}},i=function(r,e){var t=[],a=0;if("fromPZ"!==e)for(r.order>12&&(r.order=12),a=0;a<r.order;a++){var i,o,f;"matchedZ"===r.transform?t.push(n.lowpassMZ({Fs:r.Fs,Fc:r.Fc,as:s[r.characteristic].as[r.order-1][a],bs:s[r.characteristic].bs[r.order-1][a]})):("butterworth"===r.characteristic?(i=.5/Math.sin(Math.PI/(2*r.order)*(a+.5)),o=1):(i=u[r.characteristic].q[r.order-1][a],o=r.oneDb?u[r.characteristic].f1dB[r.order-1][a]:u[r.characteristic].f3dB[r.order-1][a]),f="highpass"===e?r.Fc/o:r.Fc*o,t.push(n[e]({Fs:r.Fs,Fc:f,Q:i,BW:r.BW||0,gain:r.gain||0,preGain:r.preGain||!1})))}else for(a=0;a<r.length;a++)t.push(n[e](r[a]));return t},o=function(r){return function(e){return i(e,r)}},f={},c=function(){for(var r in n)f[r]=o(r);return f};e.exports=c},{"./iirCoeffs":6}],3:[function(r,e,t){"use strict";var a=function(r){var e=function(r){return r&r-1?!1:!0};if(!e(r))return!1;var t={};t.length=r,t.buffer=new Float64Array(r),t.re=new Float64Array(r),t.im=new Float64Array(r),t.reI=new Float64Array(r),t.imI=new Float64Array(r),t.twiddle=new Int32Array(r),t.sinTable=new Float64Array(r-1),t.cosTable=new Float64Array(r-1);var a=2*Math.PI,n=Math.floor(Math.log(r)/Math.LN2);for(s=t.sinTable.length;s--;)t.sinTable[s]=Math.sin(a*(s/r)),t.cosTable[s]=Math.cos(a*(s/r));for(var u=r>>1,s=0,i=0;t.twiddle[s]=i,!(++s>=r);){for(n=u;i>=n;)i-=n,n>>=1;i+=n}var o=function(r){var e=Math.PI,t=2*Math.PI,a=Math.abs,n=Math.pow,u=Math.cos,s=Math.sin,i=function(r){return s(e*r)/(e*r)},o=Math.E,f={rectangular:{calc:function(){return 1},values:[],correction:1},none:{calc:function(){return 1},values:[],correction:1},hanning:{calc:function(r,e){return.5*(1-u(t*r/(e-1)))},values:[],correction:2},hamming:{calc:function(r,e){return.54-.46*u(t*r/(e-1))},values:[],correction:1.8518999946875638},tukery:{calc:function(r,t,a){return a*(t-1)/2>r?.5*(1+u(e*(2*r/(a*(t-1))-1))):r>(t-1)*(1-a/2)?.5*(1+u(e*(2*r/(a*(t-1))-2/a+1))):1},values:[],correction:4/3},cosine:{calc:function(r,t){return s(e*r/(t-1))},values:[],correction:1.570844266360796},lanczos:{calc:function(r,e){return i(2*r/(e-1)-1)},values:[],correction:1.6964337576195783},triangular:{calc:function(r,e){return 2/(e+1)*((e+1)/2-a(r-(e-1)/2))},values:[],correction:2},bartlett:{calc:function(r,e){return 2/(e-1)*((e-1)/2-a(r-(e-1)/2))},values:[],correction:2},gaussian:{calc:function(r,e,t){return n(o,-.5*n((r-(e-1)/2)/(t*(e-1)/2),2))},values:[],correction:5/3},bartlettHanning:{calc:function(r,e){return.62-.48*a(r/(e-1)-.5)-.38*u(t*r/(e-1))},values:[],correction:2},blackman:{calc:function(r,a,n){var s=(1-n)/2,i=.5,o=n/2;return s-i*u(t*r/(a-1))+o*u(4*e*r/(a-1))},values:[],correction:4/3}};return f[r.name].values.length!==r.N?(0===r.n&&(f[r.name].values.length=0),f[r.name].values[r.n]=f[r.name].correction*f[r.name].calc(r.n,r.N,r.a),f[r.name].values[r.n]):f[r.name].values},f={forward:function(r,e){var a,n,u,s,i,f,c,h,p,l,b,v;u=t.buffer.length;var m={name:e,N:u,a:.5,n:0},d=o(m);if("number"==typeof d)for(a=0;u>a;++a)m.n=a,t.buffer[a]=r[a]*o(m);else for(a=0;u>a;++a)t.buffer[a]=r[a]*d[a];for(a=u;a--;)t.re[a]=t.buffer[t.twiddle[a]],t.im[a]=0;for(s=1;u>s;s=i)for(f=0,i=s+s,c=u/i,n=0;s>n;n++){for(h=t.cosTable[f],p=t.sinTable[f],a=n;u>a;a+=i)l=a+s,b=p*t.im[l]+h*t.re[l],v=h*t.im[l]-p*t.re[l],t.re[l]=t.re[a]-b,t.re[a]+=b,t.im[l]=t.im[a]-v,t.im[a]+=v;f+=c}return{re:t.re,im:t.im}},inverse:function(r,e){var a,n,u,s,i,o,f,c,h,p,l,b;for(a=u;a--;)n=t.twiddle[a],t.reI[a]=r[n],t.imI[a]=-e[n];for(s=1;u>s;s=i)for(o=0,i=s+s,f=u/i,n=0;s>n;n++){for(c=t.cosTable[o],h=t.sinTable[o],a=n;u>a;a+=i)p=a+s,l=h*t.imI[p]+c*t.reI[p],b=c*t.imI[p]-h*t.reI[p],t.reI[p]=t.reI[a]-l,t.reI[a]+=l,t.imI[p]=t.imI[a]-b,t.imI[a]+=b;o+=f}for(a=u;a--;)t.buffer[a]=t.reI[a]/u;return t.buffer},magnitude:function(r){for(var e=[],t=0;t<r.re.length;t++)e.push(Math.sqrt(r.re[t]*r.re[t]+r.im[t]*r.im[t]));return e},magToDb:function(r){for(var e=[],t=0;t<r.length;t++)e.push(20*Math.log(r[t])*Math.LOG10E);return e},phase:function(r){for(var e=[],t=0;t<r.re.length;t++)e.push(Math.atan2(r.im[t],r.re[t]));return e}};return f};e.exports=a},{}],4:[function(r,e,t){"use strict";var a=function(){var r=function(r){var e=r.Fs,t=r.Fa,a=r.Fb,n=r.order||51,u=r.Att||100,s=function(r){for(var e=0,t=1,a=1;t>1e-6*a;)e+=2,t*=r*r/(e*e),a+=t;return a};n/2-Math.floor(n/2)===0&&n++;var i,o=(n-1)/2,f=[],c=0,h=0,p=[];for(f[0]=2*(a-t)/e,h=1;o>=h;h++)f[h]=(Math.sin(2*h*Math.PI*a/e)-Math.sin(2*h*Math.PI*t/e))/(h*Math.PI);for(c=21>u?0:u>50?.1102*(u-8.7):.5842*Math.pow(u-21,.4)+.07886*(u-21),i=s(c),h=0;o>=h;h++)p[o+h]=f[h]*s(c*Math.sqrt(1-h*h/(o*o)))/i;for(h=0;o>h;h++)p[h]=p[n-1-h];return p},e=function(r){var e=r.Fs,t=r.Fc,a=r.order,n=2*Math.PI*t/e,u=0,s=0,i=[];for(u=0;a>=u;u++)u-a/2===0?i[u]=n:(i[u]=Math.sin(n*(u-a/2))/(u-a/2),i[u]*=.54-.46*Math.cos(2*Math.PI*u/a)),s+=i[u];for(u=0;a>=u;u++)i[u]/=s;return i},t=function(r){var e;for(e=0;e<r.length;e++)r[e]=-r[e];return r[(r.length-1)/2]++,r},a=function(r){for(var a=e({order:r.order,Fs:r.Fs,Fc:r.F2}),n=t(e({order:r.order,Fs:r.Fs,Fc:r.F1})),u=[],s=0;s<a.length;s++)u.push(a[s]+n[s]);return u},n={lowpass:function(r){return e(r)},highpass:function(r){return t(e(r))},bandstop:function(r){return a(r)},bandpass:function(r){return t(a(r))},kbFilter:function(e){return r(e)}};return n};e.exports=a},{}],5:[function(r,e,t){"use strict";var a=r("./utils"),n=a.runMultiFilter,u=a.complex,s=a.evaluatePhase,i=function(r){var e=r,t=[],a=0;for(a=0;a<e.length;a++)t[a]={re:e[a],im:0};var i=function(r){var e,t=[];for(e=0;r>e;e++)t.push(0);return{buf:t,pointer:0}},o=i(e.length-1),f=function(r,t){t.buf[t.pointer]=r;var n=0;for(a=0;a<t.buf.length;a++)n+=e[a]*t.buf[(t.pointer+a)%t.buf.length];return t.pointer=(t.pointer+1)%t.buf.length,n},c=function(r){var t=i(e.length-1);return n(r,t,f)},h=function(r){for(var a=r.Fs,n=r.Fr,s=-Math.PI*(n/a)*2,i={re:0,im:0},o=0;o<e.length-1;o++)i=u.add(i,u.mul(t[o],{re:Math.cos(s*o),im:Math.sin(s*o)}));var f=u.magnitude(i),c={magnitude:f,phase:u.phase(i),dBmagnitude:20*Math.log(f)*Math.LOG10E};return c},p={responsePoint:function(r){return h(r)},response:function(r){r=r||100;var e=[],t=0,a=2*r;for(t=0;r>t;t++)e[t]=h({Fs:a,Fr:t});return s(e),e},simulate:function(r){return c(r)},singleStep:function(r){return f(r,o)},multiStep:function(r,e){return n(r,o,f,e)},reinit:function(){o=i(e.length-1)}};return p};e.exports=i},{"./utils":9}],6:[function(r,e,t){"use strict";var a=function(){var r=function(r,e){var t=r.Q,a=r.Fc,n=r.Fs,u={},s=2*Math.PI*a/n;return r.BW?u.alpha=Math.sin(s)*Math.sinh(Math.log(2)/2*r.BW*s/Math.sin(s)):u.alpha=Math.sin(s)/(2*t),u.cw=Math.cos(s),u.a0=1+u.alpha,e.a0=u.a0,e.a.push(-2*u.cw/u.a0),e.k=1,e.a.push((1-u.alpha)/u.a0),u},e=function(r){var e=r.Q,t=r.Fc,a=r.Fs,n={},u=2*Math.PI*t/a;return n.alpha=Math.sin(u)/(2*e),n.cw=Math.cos(u),n.A=Math.pow(10,r.gain/40),n},t=function(){var r={};return r.z=[0,0],r.a=[],r.b=[],r},a={fromPZ:function(r){var e=t();return e.a0=1,e.b.push(1),e.b.push(-r.z0.re-r.z1.re),e.b.push(r.z0.re*r.z1.re-r.z0.im*r.z1.im),e.a.push(-r.p0.re-r.p1.re),e.a.push(r.p0.re*r.p1.re-r.p0.im*r.p1.im),"lowpass"===r.type?e.k=(1+e.a[0]+e.a[1])/(1+e.b[1]+e.b[2]):e.k=(1-e.a[0]+e.a[1])/(1-e.b[1]+e.b[2]),e},lowpassMZ:function(r){var e=t();e.k=1,e.a0=1;var a=r.as,n=r.bs,u=2*Math.PI*r.Fc/r.Fs,s=-(a/(2*n));return e.a.push(2*-Math.pow(Math.E,s*u)*Math.cos(-u*Math.sqrt(Math.abs(Math.pow(a,2)/(4*Math.pow(n,2))-1/n)))),e.a.push(Math.pow(Math.E,2*s*u)),e.b.push(e.a0+e.a[0]+e.a[1]),e.b.push(0),e.b.push(0),e},lowpassBT:function(r){var e=t();return r.Q=1,e.wp=Math.tan(2*Math.PI*r.Fc/(2*r.Fs)),e.wp2=e.wp*e.wp,r.BW&&delete r.BW,e.k=1,e.a0=3*e.wp+3*e.wp2+1,e.b.push(3*e.wp2*r.Q/e.a0),e.b.push(2*e.b[0]),e.b.push(e.b[0]),e.a.push((6*e.wp2-2)/e.a0),e.a.push((3*e.wp2-3*e.wp+1)/e.a0),e},highpassBT:function(r){var e=t();return r.Q=1,e.wp=Math.tan(2*Math.PI*r.Fc/(2*r.Fs)),e.wp2=e.wp*e.wp,r.BW&&delete r.BW,e.k=1,e.a0=e.wp+e.wp2+3,e.b.push(3*r.Q/e.a0),e.b.push(2*e.b[0]),e.b.push(e.b[0]),e.a.push((2*e.wp2-6)/e.a0),e.a.push((e.wp2-e.wp+3)/e.a0),e},lowpass:function(e){var a=t();e.BW&&delete e.BW;var n=r(e,a);return e.preGain?(a.k=.5*(1-n.cw),a.b.push(1/n.a0)):(a.k=1,a.b.push((1-n.cw)/(2*n.a0))),a.b.push(2*a.b[0]),a.b.push(a.b[0]),a},highpass:function(e){var a=t();e.BW&&delete e.BW;var n=r(e,a);return e.preGain?(a.k=.5*(1+n.cw),a.b.push(1/n.a0)):(a.k=1,a.b.push((1+n.cw)/(2*n.a0))),a.b.push(-2*a.b[0]),a.b.push(a.b[0]),a},allpass:function(e){var a=t();e.BW&&delete e.BW;var n=r(e,a);return a.k=1,a.b.push((1-n.alpha)/n.a0),a.b.push(-2*n.cw/n.a0),a.b.push((1+n.alpha)/n.a0),a},bandpassQ:function(e){var a=t(),n=r(e,a);return a.k=1,a.b.push(n.alpha*e.Q/n.a0),a.b.push(0),a.b.push(-a.b[0]),a},bandpass:function(e){var a=t(),n=r(e,a);return a.k=1,a.b.push(n.alpha/n.a0),a.b.push(0),a.b.push(-a.b[0]),a},bandstop:function(e){var a=t(),n=r(e,a);return a.k=1,a.b.push(1/n.a0),a.b.push(-2*n.cw/n.a0),a.b.push(a.b[0]),a},peak:function(r){var a=t(),n=e(r);return a.k=1,a.a0=1+n.alpha/n.A,a.a.push(-2*n.cw/a.a0),a.a.push((1-n.alpha/n.A)/a.a0),a.b.push((1+n.alpha*n.A)/a.a0),a.b.push(-2*n.cw/a.a0),a.b.push((1-n.alpha*n.A)/a.a0),a},lowshelf:function(r){var a=t();r.BW&&delete r.BW;var n=e(r);a.k=1;var u=2*Math.sqrt(n.A)*n.alpha;return a.a0=n.A+1+(n.A-1)*n.cw+u,a.a.push(-2*(n.A-1+(n.A+1)*n.cw)/a.a0),a.a.push((n.A+1+(n.A-1)*n.cw-u)/a.a0),a.b.push(n.A*(n.A+1-(n.A-1)*n.cw+u)/a.a0),a.b.push(2*n.A*(n.A-1-(n.A+1)*n.cw)/a.a0),a.b.push(n.A*(n.A+1-(n.A-1)*n.cw-u)/a.a0),a},highshelf:function(r){var a=t();r.BW&&delete r.BW;var n=e(r);a.k=1;var u=2*Math.sqrt(n.A)*n.alpha;return a.a0=n.A+1-(n.A-1)*n.cw+u,a.a.push(2*(n.A-1-(n.A+1)*n.cw)/a.a0),a.a.push((n.A+1-(n.A-1)*n.cw-u)/a.a0),a.b.push(n.A*(n.A+1+(n.A-1)*n.cw+u)/a.a0),a.b.push(-2*n.A*(n.A-1+(n.A+1)*n.cw)/a.a0),a.b.push(n.A*(n.A+1+(n.A-1)*n.cw-u)/a.a0),a}};return a};e.exports=a},{}],7:[function(r,e,t){"use strict";var a=r("./utils"),n=a.complex,u=a.runMultiFilter,s=a.evaluatePhase,i=function(r){for(var e=r,t={re:1,im:0},a=[],i=[],o=0;o<e.length;o++){a[o]={};var f=e[o];a[o].b0={re:f.b[0],im:0},a[o].b1={re:f.b[1],im:0},a[o].b2={re:f.b[2],im:0},a[o].a1={re:f.a[0],im:0},a[o].a2={re:f.a[1],im:0},a[o].k={re:f.k,im:0},i[o]={},i[o].b1=f.b[1]/f.b[0],i[o].b2=f.b[2]/f.b[0],i[o].a1=f.a[0],i[o].a2=f.a[1]}var c=function(r,e){var t=e*r.k-r.a[0]*r.z[0]-r.a[1]*r.z[1],a=r.b[0]*t+r.b[1]*r.z[0]+r.b[2]*r.z[1];return r.z[1]=r.z[0],r.z[0]=t,a},h=function(r,e){var t=r,a=0;for(a=0;a<e.length;a++)t=c(e[a],t);return t},p=function(r,e){var a=r.Fs,u=r.Fr,s=-Math.PI*(u/a)*2,i={re:Math.cos(s),im:Math.sin(s)},o=n.mul(e.k,n.add(e.b0,n.mul(i,n.add(e.b1,n.mul(e.b2,i))))),f=n.add(t,n.mul(i,n.add(e.a1,n.mul(e.a2,i)))),c=n.div(o,f),h={magnitude:n.magnitude(c),phase:n.phase(c)};return h},l=function(r){var e=0,t={magnitude:1,phase:0};for(e=0;e<a.length;e++){var n=p(r,a[e]);t.magnitude*=n.magnitude,t.phase+=n.phase}return t.dBmagnitude=20*Math.log(t.magnitude)*Math.LOG10E,t},b=function(){for(var r=[],t=0;t<e.length;t++)r[t]={a:[e[t].a[0],e[t].a[1]],b:[e[t].b[0],e[t].b[1],e[t].b[2]],k:e[t].k,z:[0,0]};return r},v=function(r){var e=b();return u(r,e,h)},m=function(r,e){var t={},a=[],n=0;for(n=0;e>n;n++)a.push(r(n));t.out=v(a);var u=!1,s=!1;for(n=0;e-1>n;n++)if(t.out[n]>t.out[n+1]&&!u&&(u=!0,t.max={sample:n,value:t.out[n]}),u&&!s&&t.out[n]<t.out[n+1]){s=!0,t.min={sample:n,value:t.out[n]};break}return t},d=function(r,e){var t=Math.pow(r/2,2)-e;return 0>t?[{re:-r/2,im:Math.sqrt(Math.abs(t))},{re:-r/2,im:-Math.sqrt(Math.abs(t))}]:[{re:-r/2+Math.sqrt(t),im:0},{re:-r/2-Math.sqrt(t),im:0}]},g=function(){for(var r=[],e=0;e<i.length;e++)r[e]={},r[e].z=d(i[e].b1,i[e].b2),r[e].p=d(i[e].a1,i[e].a2);return r},M={singleStep:function(r){return h(r,e)},multiStep:function(r,t){return u(r,e,h,t)},simulate:function(r){return v(r)},stepResponse:function(r){return m(function(){return 1},r)},impulseResponse:function(r){return m(function(r){return 0===r?1:0},r)},responsePoint:function(r){return l(r)},response:function(r){r=r||100;var e=[],t=0,a=2*r;for(t=0;r>t;t++)e[t]=l({Fs:a,Fr:t});return s(e),e},polesZeros:function(){return g()},reinit:function(){for(o=0;o<e.length;o++)e[o].z=[0,0]}};return M};e.exports=i},{"./utils":9}],8:[function(r,e,t){"use strict";var a=function(r){var e,t=r,a=[],n=function(r){for(e=0;e<r.steps;e++)a.push(t.singleStep((Math.random()-.5)*r.pp+r.offset))},u=function(r){var n=r.offset+r.pp,u=r.offset-r.pp;for(e=0;e<r.steps;e++)100>e%200?a.push(t.singleStep(n)):a.push(t.singleStep(u))},s=function(r){var n=r.offset+r.pp,u=r.offset-r.pp;for(e=0;e<r.steps;e++)e%100===0?a.push(t.singleStep(n)):a.push(t.singleStep(u))},i=function(r){var n=r.offset+r.pp,u=r.offset-r.pp,s=u,i=(n-u)/100;for(e=0;e<r.steps;e++)100>e%200?s+=i:s-=i,a.push(t.singleStep(s))},o={randomStability:function(r){for(t.reinit(),a.length=0,n(r),e=r.setup;e<a.length;e++)if(a[e]>r.maxStable||a[e]<r.minStable)return a[e];return!0},directedRandomStability:function(r){t.reinit(),a.length=0;var o;for(o=0;o<r.tests;o++){var f=Math.random();.25>f?n(r):.5>f?u(r):.75>f?s(r):i(r)}for(n(r),e=r.setup;e<a.length;e++)if(a[e]>r.maxStable||a[e]<r.minStable)return a[e];return!0},evaluateBehavior:function(){}};return o};e.exports=a},{}],9:[function(r,e,t){"use strict";t.evaluatePhase=function(r){var e=0,t=0,a=Math.PI,n=2*a,u=[];for(t=0;t<r.length;t++)u.push(r[t].phase);for(r[0].unwrappedPhase=r[0].phase,r[0].groupDelay=0,t=1;t<u.length;t++){var s=u[t]-u[t-1];if(s>a)for(e=t;e<u.length;e++)u[e]-=n;else if(-a>s)for(e=t;e<u.length;e++)u[e]+=n;u[t]<0?r[t].unwrappedPhase=-u[t]:r[t].unwrappedPhase=u[t],r[t].phaseDelay=r[t].unwrappedPhase/(t/r.length),r[t].groupDelay=(r[t].unwrappedPhase-r[t-1].unwrappedPhase)/(a/r.length),r[t].groupDelay<0&&(r[t].groupDelay=-r[t].groupDelay)}0!==r[0].magnitude?(r[0].phaseDelay=r[1].phaseDelay,r[0].groupDelay=r[1].groupDelay):(r[0].phaseDelay=r[2].phaseDelay,r[0].groupDelay=r[2].groupDelay,r[1].phaseDelay=r[2].phaseDelay,r[1].groupDelay=r[2].groupDelay)},t.runMultiFilter=function(r,e,t,a){var n=[];a&&(n=r);var u;for(u=0;u<r.length;u++)n[u]=t(r[u],e);return n};var a=function(r,e){for(var t=!0;t;){var a=r,n=e;if(t=!1,n||(n=1),a!==Math.floor(a)||n!==Math.floor(n))return 1;if(0===a||1===a)return n;r=a-1,e=n*a,t=!0}};t.besselFactors=function(r){for(var e=[],t=0;r+1>t;t++){var n=a(2*r-t),u=Math.pow(2,r-t)*a(t)*a(r-t);e.unshift(Math.floor(n/u))}return e},t.complex={div:function(r,e){var t=r.re,a=r.im,n=e.re,u=e.im,s=n*n+u*u,i={re:(t*n+a*u)/s,im:(a*n-t*u)/s};return i},mul:function(r,e){var t=r.re,a=r.im,n=e.re,u=e.im,s={re:t*n-a*u,im:(t+a)*(n+u)-t*n-a*u};return s},add:function(r,e){var t={re:r.re+e.re,im:r.im+e.im};return t},sub:function(r,e){var t={re:r.re-e.re,im:r.im-e.im};return t},phase:function(r){return Math.atan2(r.im,r.re)},magnitude:function(r){return Math.sqrt(r.re*r.re+r.im*r.im)}}},{}]},{},[1])(1)});